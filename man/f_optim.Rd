% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_estimate.R
\name{f_optim}
\alias{f_optim}
\title{Estimate Regime-Switching Correlation Model with TVTP}
\usage{
f_optim(N, residuals, X, out_of_sample = FALSE, control = list())
}
\arguments{
\item{N}{Integer. Number of regimes.}

\item{residuals}{A numeric matrix of dimension T × K. Typically standardized residuals or returns.}

\item{X}{A numeric matrix of dimension T × p. Exogenous variables used to drive the transition probabilities.
Must include a column of ones if an intercept is desired (not added automatically).}

\item{out_of_sample}{Logical. If \code{TRUE}, the first 70\\% of the data is used for estimation,
and the remaining 30\\% is reserved for out-of-sample forecasting.}

\item{control}{Optional list of control arguments (e.g., \code{do_trace = TRUE}) passed to internal DEoptim control.}
}
\value{
A list with the following components:
\describe{
\item{transition_matrix}{The average regime transition matrix evaluated at the mean of \code{X}.}
\item{means}{A placeholder matrix of zeros (N × K) for regime-specific means (not estimated).}
\item{volatilities}{A placeholder matrix of ones (N × K) for regime-specific volatilities (not estimated).}
\item{correlations}{A matrix of regime-specific correlation coefficients (N × C),
where C = K(K−1)/2 is the number of unique pairwise correlations.}
\item{covariances}{An array of full correlation matrices for each regime (K × K × N).}
\item{log_likelihood}{The log-likelihood of the fitted model.}
\item{beta}{Matrix of estimated logistic regression coefficients for the TVTP specification (N × p).}
}
}
\description{
Fits a multivariate regime-switching model with time-varying transition probabilities (TVTP),
using differential evolution followed by L-BFGS-B optimization.
}
