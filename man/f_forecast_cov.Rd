% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prediction.R
\name{f_forecast_cov}
\alias{f_forecast_cov}
\title{Forecast Covariance Matrices from Regime-Switching Model}
\usage{
f_forecast_cov(
  method = c("tvtp", "noX", "const"),
  N,
  residuals,
  X = NULL,
  final_params,
  sigma_matrix,
  value_cols,
  out_of_sample = FALSE
)
}
\arguments{
\item{method}{Character. One of \code{"tvtp"} (time-varying transition probabilities),
\code{"noX"} (fixed transition matrix), or \code{"const"} (constant correlation).}

\item{N}{Integer. Number of regimes (ignored if \code{method = "const"}).}

\item{residuals}{Numeric matrix of dimension \eqn{T \times K}, where \eqn{T} is the number
of time steps and \eqn{K} is the number of assets.}

\item{X}{Optional matrix of exogenous variables, of dimension \eqn{T \times p}. Required if \code{method = "tvtp"}.}

\item{final_params}{A list of model parameters, typically returned by \code{\link{estimate_model}}.
It must include either:
\itemize{
\item \code{beta} and \code{correlations} (for \code{"tvtp"}),
\item or \code{transition_matrix} and \code{correlations} (for \code{"noX"}),
\item or just correlation info (for \code{"const"}).
}}

\item{sigma_matrix}{Matrix of predicted standard deviations (T × K).}

\item{value_cols}{Character or integer vector: names or indices of the volatility columns in \code{sigma_matrix}.}

\item{out_of_sample}{Logical. If \code{TRUE}, use only the out-of-sample portion (last 30\%) for forecasting.}
}
\value{
A named list with components:
\describe{
\item{smoothed_probs}{Matrix (N × T) of smoothed regime probabilities (not available if \code{method = "const"}).}
\item{sigma_matrix}{Filtered matrix of standard deviations used for forecasting.}
\item{cov_matrices}{List of predicted covariance matrices for each time point (length T).}
\item{predicted_correlations}{Matrix (T × P) of predicted pairwise correlations, with \eqn{P = K(K-1)/2}.}
\item{BIC}{Bayesian Information Criterion value of the fitted model.}
\item{y}{Matrix of residuals used for forecasting (in-sample or out-of-sample).}
}
}
\description{
Computes predicted correlation and covariance matrices from a fitted
regime-switching model. Supports constant, fixed-transition, and
time-varying transition probability (TVTP) specifications.
}
\seealso{
\code{\link{f_hamilton}}, \code{\link{estimate_model}}, \code{\link{f_minvar}}, \code{\link{f_maxdiv}}
}
